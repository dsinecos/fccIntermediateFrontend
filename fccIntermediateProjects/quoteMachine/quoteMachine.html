
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE-Edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Learning Bootstrap</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"/>


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>	
</head>

<body>
	
	<div class="quoteBox">
		<div class="quoteBox2">

			<blockquote><p><span class="textQuote">This is a quote. This is a quote. This is a quote. This is a quote</span>&nbsp;&nbsp;<i class="fa fa-quote-right"></i></p><footer class="author"> author </footer></blockquote>

			<button class="btn btn-default tweet" href="#"><i class="fa fa-twitter"></i></button>
			<button class="btn btn-default nextQuote" href="#">New Quote</button>
		</div>

		<div class="break"></div>
		<p>by DS</p>
	</div>

</body>

<style>

	body {
		background-color: powderblue;
	}

	.quoteBox {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);


		min-width: 350px;
		max-width: 450px;
		width: 40%;

		text-align: center;

		font-size: 0.8em;
	}

	.quoteBox2 {
		background-color: #ddd;
		/*border: solid 2px;*/
		border-radius: 5px;

		overflow: hidden;

		padding: 15px;
		
	}

	blockquote {
		border: none;
		font-size: 200%;
	}

	.author {
		text-align: right;
	}

	.tweet {
		float: left;
	}

	.nextQuote {
		float: right;
	}

	.btn {
		font-size: 120%;
		border: none;
	}

	.break {
		height: 1.5em;
	}

</style>

<script type="text/javascript">

	var quoteData = [{
		quote: "I'll make them an offer they can't refuse",
		author: "Michael Corleone",
		color: "brown"
	}, {
		quote: "You were right warden, salvation lies within",
		author: "Andy Dufresne",
		color: "red"
	}, {
		quote: "Why don't I cut you into pieces and feed you to your pooches, and then we'll see how loyal a hungry dog really is",
		author: "Joker",
		color: "blue"
	}];

	function newQuote(){

		// console.log("Entered function newQuote");

		for (var i in quoteData) {

			/*
			console.log("Entered for loop");

			console.log("ith author" + quoteData[i]['author']);
			console.log("current author" + $('footer').html());
			// console.log(typeof quoteData[i]['author']);
			// console.log(typeof $('footer').html());
			console.log(quoteData[i]['author'] == $('footer').html());
			console.log(quoteData[i]['author'] === $('footer').html());
			*/

			if (quoteData[i]['author'] == $('blockquote footer').text()) {
				// console.log($('footer').html());



				/*
				console.log("Entered first if");
				console.log("before var");
				*/

				var x = parseInt(i) + 1;

				/*
				console.log("after var");
				console.log("x " + x);
				console.log(x >= quoteData.length);
				console.log("length " + quoteData.length);
				*/

				if (x < quoteData.length) {

					/*
					console.log("Entered second if");
					console.log("x " + x);
					*/

					changeContent(x);
					changeColor(quoteData[x]['color']);
					
					return;

				} else {

					changeContent(0);
					changeColor(quoteData[0]['color']);
					
					return;

				}
			} else {

				/*
				console.log("Exiting first if loop");
				console.log("End of click session");
				*/
			}
		}

		changeContent(0);
		changeColor(quoteData[0]['color']);
		
		
		return;
	}

	function changeColor(color){

		$('body').css('background-color', color);
		$('.quoteBox p').css('color', 'white');

		$('.btn').css('background-color', color);
		$('.btn').css('color', 'white');

		$('.textQuote').css('color', color);
		$('.fa-quote-right').css('color', color);
		$('footer').css('color', color);		
	}

	function changeContent(index){
		
		$('.textQuote').text(quoteData[index]['quote']);

		// $('blockquote p').append('&nbsp;&nbsp;<i class="fa fa-quote-right"></i>');

		// $('blockquote').append('<footer> </footer>');

		$('blockquote footer').html(quoteData[index]['author']);

		$('blockquote footer').addClass('author');

	}

	function tweetQuote() {
		window.open('https://twitter.com/intent/tweet' + "?text=" + $('blockquote p').text());
	}

	$(document).ready(function(){

		$('.quoteBox2').on('click', '.nextQuote', newQuote);
		$('.quoteBox2').on('click', '.tweet', tweetQuote);

		// $('.nextQuote').click(newQuote);
	});

</script>

</html>